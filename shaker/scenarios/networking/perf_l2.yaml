title: OpenStack L2 Performance

description:
  This scenario launches 1 pair of VMs in the same private network on different
  compute nodes.

deployment:
  template: l2.hot
  accommodation: [pair, single_room, compute_nodes: 2]

execution:
  tests:
  -
    title: TCP
    class: iperf3
    sla:
    - "[type == 'agent'] >> (stats.bandwidth.mean > 5000)"
    - "[type == 'agent'] >> (stats.retransmits.max < 10)"
  -
    title: UDP
    class: iperf3
    udp: on
    bandwidth: 1000M
    datagram_size: 32
    sla:
    - "[type == 'agent'] >> (stats.packets.mean > 100000)"
